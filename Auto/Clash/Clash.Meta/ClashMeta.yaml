mixed-port: 7890           #本地混合代理(http和socks5合并）端口
geodata-mode: true         #【Meta专属】使用geoip.dat数据库(默认：false使用mmdb数据库)
tcp-concurrent: true       #【Meta专属】TCP连接并发，如果域名解析结果对应多个IP，
                           # 并发所有IP，选择握手最快的IP进行连接
allow-lan: true            #允许局域网连接(false/true)
bind-address:              #监听IP白名单（当allow-lan：true），只允许列表设备
  '*'                      #全部设备
mode: rule                 #clash工作模式（rule/global/direct,meta暂不支持script）
log-level: info            #日志等级（info/warning/error/debug/silent）
ipv6: true                #ip6开关，当为false时，停止解析hostanmes为ip6地址
external-controller: 127.0.0.1:9090   #控制器监听地址
external-ui: folder                   #http服务路径，可以放静态web网页，如yacd的控制面板
                                      #可通过`http://{{external-controller}}/ui`直接使用
# secret: ""                          #控制器登录密码
profile:                   #缓存设置(文件位置./cache.db)
  store-selected: false    #节点状态记忆（若不同配置有同代理名称,设置值共享）
  store-fake-ip: true      #fake-ip缓存
  
sniffer:                         #【Meta专属】sniffer域名嗅探器
  enable: true                   #嗅探开关
  sniffing:                      #嗅探协议对象：目前支持tls/http
    - tls
    - http
  skip-domain:                   #列表中的sni字段，保留mapping结果，不通过嗅探还原域名
  force-domain:                  #需要强制嗅探的域名，默认只对IP嗅探
    - '+'                        #去掉注释后等于全局嗅探

dns:
  enable: true                 #DNS开关(false/true)
  listen: 127.0.0.1:5450           #DNS监听地址
  ipv6: true                #IP6解析开关；如果为false，将返回ip6结果为空
  default-nameserver:          #解析非IP的dns用的dns服务器,只支持纯IP
    - 223.5.5.5
    - 8.8.8.8
  enhanced-mode: redir-host          #DNS模式(redir-host/fake-ip)
                                     #【Meta专属】redir-host传递域名，可远程解析
  fake-ip-range: 198.18.0.1/16       #Fake-IP解析地址池
  nameserver:                        #默认DNS服务器，支持udp/tcp/dot/doh/doq
    - https://1.1.1.1/dns-query # default value
    - https://8.8.8.8/dns-query # default value
    - https://223.5.5.5/dns-quer
  fallback:                          #回落DNS服务器，支持udp/tcp/dot/doh/doq
    - https://1.1.1.1/dns-query
    - https://223.5.5.5/dns-quer
  fallback-filter:                   #回落DNS服务器过滤
    geoip: true                      #为真时，不匹配为geoip规则的使用fallback返回结果
    geoip-code: CN                   #geoip匹配区域设定
    geosite:                         #【Meta专属】设定geosite某分类使用fallback返回结果
      - gfw
    ipcidr:                          #列表中的ip使用fallback返回解析结果
      - 240.0.0.0/4
      
tun:
  enable: true
  device: meta
  stack: system
  dns-hijack:
    - any:53
  mtu: 9000
  auto-route: true
  auto-detect-interface: true
      
proxies:
  # http
  #- name: "http"
  #  type: http
  #  server: server
  #  port: 443
  # username: username
  # password: password
  # tls: true # https
  # skip-cert-verify: true
  # sni: custom.com
  # headers:                      #【Meta专属】
  #   X-T5-Auth: "1962xxxxx709"
  #   User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 ...... "
  
  - name: 🚀百度直连
    type: http
    server: cloudnproxy.baidu.com
    port: 443
    headers:
      Host: mediadata.api.weibo.com
      User-Agent: baiduboxapp
      
proxy-providers:
   国际: #随便的机场名字 
    type: http  #订阅类型 
    url: ""  #机场订阅链接 
    path: ./proxy_providers/国际.yaml  #下载好的文件的存储位置 
    interval: 360000  #自动更新订阅间隔，秒为单位
    
   C-Cloud:  
    type: http  
    url: ""
    path: ./proxy_providers/C-Cloud.yaml
    interval: 360000   
    
   七七云:
    type: http  
    url: ""
    path: ./proxy_providers/七七云.yaml
    interval: 360000 
    
proxy-groups:
  - name: 🌸AUTO  
    type: select 
    proxies: 
     - 🚀百度直连
     - DIRECT
     - REJECT
    use:
     - 国际
     - C-Cloud
     - 七七云
  - name: ❄️1
    type: select 
    use:
     - 国际
  - name: ❄️2  
    type: select 
    use:
     - C-Cloud
  - name: ❄️3 
    type: select 
    use:
     - 七七云
  - name: 🔰PROXY 
    type: select 
    proxies: 
     - 🌸AUTO
     - ❄️1
     - ❄️2
     - ❄️3
     - 🚀百度直连
     - PASS
     - DIRECT
     - REJECT
  - name: 🍎Apple
    type: select 
    proxies: 
     - 🌸AUTO
     - ❄️1
     - ❄️2
     - ❄️3
     - 🚀百度直连
     - PASS
     - DIRECT
     - REJECT
  - name: 🍂Domestic
    type: select 
    proxies: 
     - 🌸AUTO
     - ❄️1
     - ❄️2
     - ❄️3
     - 🚀百度直连
     - PASS
     - DIRECT
     - REJECT
  - name: 🎞️StreamingSE
    type: select 
    proxies: 
     - 🌸AUTO
     - ❄️1
     - ❄️2
     - ❄️3
     - 🚀百度直连
     - PASS
     - DIRECT
     - REJECT
  - name: 🎬Streaming
    type: select 
    proxies: 
     - 🌸AUTO
     - ❄️1
     - ❄️2
     - ❄️3
     - 🚀百度直连
     - PASS
     - DIRECT
     - REJECT
  - name: ☁️Final
    type: select 
    proxies: 
     - 🌸AUTO
     - ❄️1
     - ❄️2
     - ❄️3
     - 🚀百度直连
     - PASS
     - DIRECT
     - REJECT

rule-providers:
  myself:
    type: file
    behavior: classical
    path: ./ruleset/myself.yaml
  Global:
    type: http
    behavior: classical
    path: ./ruleset/Global.yaml
    url: "https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml"
    interval: 28800
  apple:
    type: http
    behavior: classical
    path: ./ruleset/apple.yaml
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Apple.yaml"
    interval: 28800
  StreamingSE:
    type: http
    behavior: classical
    path: ./ruleset/StreamingSE.yaml
    url: "https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/StreamingSE.yaml"
    interval: 28800
  Streaming:
    type: http
    behavior: classical
    path: ./ruleset/Streaming.yaml
    url: "https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Streaming.yaml"
    interval: 28800
  Domestic:
    type: http
    behavior: classical
    path: ./ruleset/Domestic.yaml
    url: "https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml"
    interval: 28800           
    
rules:
  - RULE-SET,myself,☁️Final
  - RULE-SET,apple,🍎Apple
  - RULE-SET,Streaming,🎬Streaming
  - RULE-SET,StreamingSE,🎞️StreamingSE
  - RULE-SET,Domestic,🍂Domestic
  - RULE-SET,Global,🔰PROXY  
  - GEOIP,private,🍂Domestic
  - GEOIP,cn,🍂Domestic
  - GEOSITE,cn,🍂Domestic
  - MATCH,☁️Final
